cluster_name: rancher

nodes:
  - address: {{ groups['reachable'][0] }}
    user: ansible
    role:
      - controlplane
      - etcd
      - worker
  {% for host in groups['reachable'][1:] -%}
  - address: {{ host }}
    user: ansible
    role:
      - worker
  {%- endfor %}

network:
  plugin: weave

ingress:
  provider: nginx
